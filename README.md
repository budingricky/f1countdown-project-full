# F1 å€’è®¡æ—¶ - "ä¸‹ä¸€ç«™ï¼šçº¢ç¯ç†„ç­"

<div align="center">

ğŸï¸ **ä¸º F1 è½¦è¿·æ‰“é€ çš„èµ›ç¨‹å€’è®¡æ—¶åº”ç”¨**

[![Platform](https://img.shields.io/badge/Platform-iOS%2016.1%2B-blue)](https://www.apple.com/ios/)
[![Swift](https://img.shields.io/badge/Swift-5.9-orange)](https://swift.org)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…](#å®‰è£…) â€¢ [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ) â€¢ [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

</div>

---

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **èµ›ç¨‹å€’è®¡æ—¶** - å®æ—¶æ˜¾ç¤ºä¸‹ä¸€åœºæ¯”èµ›å€’è®¡æ—¶ï¼Œç²¾ç¡®åˆ°ç§’
- **å®Œæ•´èµ›ç¨‹è¡¨** - åŒ…å«ç»ƒä¹ èµ›ã€æ’ä½èµ›ã€å†²åˆºèµ›å’Œæ­£èµ›æ—¶é—´
- **èµ›é“å›¾å±•ç¤º** - æ¶²æ€ç»ç’ƒé£æ ¼çš„ç²¾ç¾èµ›é“å›¾ï¼ˆiOS 26+ï¼‰

### å°ç»„ä»¶

- **ä¸»å±å°ç»„ä»¶** - systemSmallã€systemMediumã€systemLarge ä¸‰ç§å°ºå¯¸
- **é”å±å°ç»„ä»¶** - accessoryCircularã€accessoryRectangular ä¸¤ç§æ ·å¼
- **å®æ—¶æ›´æ–°** - æ™ºèƒ½æ—¶é—´çº¿æ›´æ–°ç­–ç•¥ï¼Œçœç”µåˆåŠæ—¶

### çµåŠ¨å²›ï¼ˆiPhone 14 Pro+ï¼‰

- **å®æ—¶æ¯”åˆ†** - æ¯”èµ›è¿›è¡Œæ—¶æ˜¾ç¤ºè½¦æ‰‹æ’å
- **é”å± Live Activity** - å…¨å±å®æ—¶æ¯”åˆ†æ˜¾ç¤º
- **CloudKit Push** - é€šè¿‡äº‘ç«¯æ¨é€å®æ—¶æ›´æ–°

### é€šçŸ¥ç³»ç»Ÿ

- **æ¯”èµ›æé†’** - å¯é…ç½® 15/30/60 åˆ†é’Ÿæå‰æé†’
- **Session é€‰æ‹©** - è‡ªå®šä¹‰æé†’å“ªäº›æ¯”èµ›ç¯èŠ‚
- **æ™ºèƒ½è°ƒåº¦** - è‡ªåŠ¨å®‰æ’ä¸‹ä¸€åœºæ¯”èµ›æé†’

### Pro åŠŸèƒ½

- **é”å±å°ç»„ä»¶** - ç²¾ç¾çš„é”å±å€’è®¡æ—¶ç»„ä»¶
- **çµåŠ¨å²›å®æ—¶æ¯”åˆ†** - Dynamic Island å®æ—¶æ›´æ–°
- **èµ›é“å£çº¸** - æ‰€æœ‰èµ›é“é«˜æ¸…å£çº¸
- **æ— å¹¿å‘Šä½“éªŒ** - äº«å—çº¯å‡€çš„ä½¿ç”¨ä½“éªŒ

---

## å®‰è£…

### ç³»ç»Ÿè¦æ±‚

- iOS 16.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- iPhone å’Œ iPad å‡æ”¯æŒ

### å¼€å‘ç¯å¢ƒ

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/f1-countdown.git
cd f1-countdown

# æ‰“å¼€é¡¹ç›®
open F1Countdown.xcodeproj
```

### ä¾èµ–

- æ— ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå…¨éƒ¨ä½¿ç”¨è‹¹æœåŸç”Ÿæ¡†æ¶

---

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

| æ¡†æ¶ | ç”¨é€” |
|------|------|
| SwiftUI | UI æ¡†æ¶ |
| SwiftData | æ•°æ®æŒä¹…åŒ– |
| CloudKit | äº‘ç«¯åŒæ­¥ |
| WidgetKit | å°ç»„ä»¶ |
| ActivityKit | Live Activities |
| StoreKit 2 | å†…è´­ç³»ç»Ÿ |
| UserNotifications | æœ¬åœ°é€šçŸ¥ |

### æ¶æ„

```
MVVM æ¶æ„
â”œâ”€â”€ Models/          # æ•°æ®æ¨¡å‹
â”œâ”€â”€ ViewModels/      # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ Views/           # è§†å›¾å±‚
â”œâ”€â”€ Services/        # æœåŠ¡å±‚
â””â”€â”€ Resources/       # èµ„æºæ–‡ä»¶
```

### API

ä½¿ç”¨ [Jolpica-F1](https://jolpica-f1.github.io/jolpica-f1/) ä½œä¸ºæ•°æ®æºï¼ˆErgast ç»§ä»»è€…ï¼‰

---

## é¡¹ç›®ç»“æ„

```
F1Countdown/
â”œâ”€â”€ F1CountdownApp.swift       # App å…¥å£
â”œâ”€â”€ ContentView.swift          # æ ¹è§†å›¾
â”‚
â”œâ”€â”€ Models/                    # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ Race.swift            # æ¯”èµ›æ¨¡å‹
â”‚   â”œâ”€â”€ Session.swift         # Session æ¨¡å‹
â”‚   â”œâ”€â”€ Circuit.swift         # èµ›é“æ¨¡å‹
â”‚   â”œâ”€â”€ APIResponse.swift     # API å“åº”æ¨¡å‹
â”‚   â”œâ”€â”€ PersistenceModels.swift  # SwiftData æ¨¡å‹
â”‚   â”œâ”€â”€ UserPreferences.swift # ç”¨æˆ·åå¥½
â”‚   â”œâ”€â”€ Product.swift         # å†…è´­äº§å“æ¨¡å‹
â”‚   â””â”€â”€ LiveActivityAttributes.swift  # Live Activity å±æ€§
â”‚
â”œâ”€â”€ ViewModels/               # è§†å›¾æ¨¡å‹
â”‚   â”œâ”€â”€ RaceListViewModel.swift
â”‚   â””â”€â”€ RaceDetailViewModel.swift
â”‚
â”œâ”€â”€ Views/                    # è§†å›¾å±‚
â”‚   â”œâ”€â”€ RaceListView.swift   # èµ›ç¨‹åˆ—è¡¨
â”‚   â”œâ”€â”€ RaceDetailView.swift # æ¯”èµ›è¯¦æƒ…
â”‚   â”œâ”€â”€ SettingsView.swift   # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ ProView.swift        # Pro è´­ä¹°é¡µé¢
â”‚   â””â”€â”€ Components/          # ç»„ä»¶
â”‚       â”œâ”€â”€ CountdownView.swift
â”‚       â”œâ”€â”€ RaceCardView.swift
â”‚       â”œâ”€â”€ TrackView.swift
â”‚       â”œâ”€â”€ LiquidGlassTrackView.swift
â”‚       â””â”€â”€ ProBadgeView.swift
â”‚
â”œâ”€â”€ Services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ APIClient.swift      # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ DataService.swift    # æ•°æ®æœåŠ¡
â”‚   â”œâ”€â”€ StoreService.swift   # å†…è´­æœåŠ¡
â”‚   â”œâ”€â”€ NotificationService.swift  # é€šçŸ¥æœåŠ¡
â”‚   â””â”€â”€ LiveActivityService.swift  # Live Activity æœåŠ¡
â”‚
â””â”€â”€ Resources/               # èµ„æºæ–‡ä»¶
    â””â”€â”€ Tracks/              # èµ›é“æ•°æ®
        â”œâ”€â”€ TrackData.swift
        â””â”€â”€ CircuitPaths.swift

F1CountdownWidget/           # å°ç»„ä»¶ Extension
â”œâ”€â”€ F1CountdownWidget.swift
â”œâ”€â”€ LockScreenWidget.swift
â”œâ”€â”€ F1CountdownWidgetLiveActivity.swift
â”œâ”€â”€ TimelineProvider.swift
â””â”€â”€ WidgetAssets.swift

F1CountdownTests/            # å•å…ƒæµ‹è¯•
â”œâ”€â”€ F1CountdownTests.swift
â”œâ”€â”€ APIClientTests.swift
â”œâ”€â”€ DataServiceTests.swift
â”œâ”€â”€ StoreServiceTests.swift
â”œâ”€â”€ NotificationServiceTests.swift
â””â”€â”€ IntegrationTests.swift

F1CountdownUITests/          # UI æµ‹è¯•
â”œâ”€â”€ F1CountdownUITests.swift
â””â”€â”€ MainFlowTests.swift
```

---

## å¼€å‘æŒ‡å—

### ç¼–è¯‘é¡¹ç›®

```bash
# ä½¿ç”¨ xcodebuild ç¼–è¯‘
xcodebuild -project F1Countdown.xcodeproj \
  -scheme F1Countdown \
  -destination 'platform=iOS Simulator,name=iPhone 15 Pro' \
  build
```

### è¿è¡Œæµ‹è¯•

```bash
# å•å…ƒæµ‹è¯•
xcodebuild test -project F1Countdown.xcodeproj \
  -scheme F1CountdownTests \
  -destination 'platform=iOS Simulator,name=iPhone 15 Pro'

# UI æµ‹è¯•
xcodebuild test -project F1Countdown.xcodeproj \
  -scheme F1CountdownUITests \
  -destination 'platform=iOS Simulator,name=iPhone 15 Pro'
```

### é…ç½®æ–‡ä»¶

#### App Groups

åœ¨ Xcode ä¸­é…ç½® App Groupsï¼š

```
group.com.f1countdown.shared
```

ç”¨äºä¸»åº”ç”¨å’Œå°ç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®ã€‚

#### CloudKit

åœ¨ Xcode ä¸­é…ç½® CloudKit Containerï¼š

```
iCloud.com.f1countdown.app
```

ç”¨äºæ•°æ®åŒæ­¥å’Œ Live Activity Push é€šçŸ¥ã€‚

#### StoreKit

ä½¿ç”¨ `Resources/Products.storekit` é…ç½®æ–‡ä»¶è¿›è¡Œæœ¬åœ°æµ‹è¯•ï¼š

```xml
<key>com.f1countdown.pro</key>
<dict>
    <key>Type</key>
    <string>NonConsumable</string>
    <key>Price</key>
    <string>Â¥18</string>
</dict>
```

### æ·±åº¦é“¾æ¥

æ”¯æŒä»¥ä¸‹ URL Schemeï¼š

```
f1countdown://race/{raceId}   # æ¯”èµ›è¯¦æƒ…
f1countdown://countdown       # å€’è®¡æ—¶è§†å›¾
f1countdown://schedule        # èµ›ç¨‹è¡¨
```

---

## æµ‹è¯•è¦†ç›–

### å•å…ƒæµ‹è¯•

- API å®¢æˆ·ç«¯æµ‹è¯•
- æ•°æ®æœåŠ¡æµ‹è¯•
- å†…è´­æœåŠ¡æµ‹è¯•
- é€šçŸ¥æœåŠ¡æµ‹è¯•
- é›†æˆæµ‹è¯•

### UI æµ‹è¯•

- ä¸»ç•Œé¢å¯¼èˆªæµ‹è¯•
- æ¯”èµ›è¯¦æƒ…æµ‹è¯•
- è®¾ç½®é¡µé¢æµ‹è¯•
- Pro è´­ä¹°æµç¨‹æµ‹è¯•

---

## å‘å¸ƒæ£€æŸ¥æ¸…å•

### å¿…é¡»é…ç½®

- [ ] App Groups: `group.com.f1countdown.shared`
- [ ] CloudKit Container: `iCloud.com.f1countdown.app`
- [ ] Push Notifications capability
- [ ] Background Modes: Background fetch, Remote notifications
- [ ] StoreKit é…ç½®æ–‡ä»¶

### App Store Connect

- [ ] åº”ç”¨æè¿°å’Œå…³é”®è¯
- [ ] æˆªå›¾ï¼ˆ6.7", 6.5", 5.5"ï¼‰
- [ ] éšç§æ”¿ç­– URL
- [ ] å†…è´­äº§å“é…ç½®
- [ ] å¹´é¾„åˆ†çº§

### æµ‹è¯•

- [ ] æ‰€æœ‰ XCTest é€šè¿‡
- [ ] æ‰€æœ‰ XCUITest é€šè¿‡
- [ ] çœŸæœºæµ‹è¯•ï¼ˆçµåŠ¨å²›åŠŸèƒ½ï¼‰
- [ ] TestFlight å†…æµ‹

---

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### æäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## è‡´è°¢

- [Jolpica-F1](https://jolpica-f1.github.io/jolpica-f1/) - F1 æ•°æ® API
- [Formula 1](https://www.formula1.com/) - å®˜æ–¹æ•°æ®å‚è€ƒ
- Apple Developer Documentation

---

<div align="center">

**ğŸï¸ Made with â¤ï¸ for F1 fans**

</div>
